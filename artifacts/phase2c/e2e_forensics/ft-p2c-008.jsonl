{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/strict:register_parameter_rejects_invalid_name","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"strict","seed":16718412775492013401,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=strict","outcome":"pass","reason_code":"nn_state_register_rejected","actual_state_keys":[],"assign_flag":false,"contract_ids":["MODULE-REGISTER-001"],"contract_ok":false,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:register_paths","ft_p2c_008/nn_state/hardened:register_paths"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":[],"hook_trace":[],"incompatible_shapes":[],"missing_keys":[],"module_path":"root","non_persistent_buffer_keys":[],"observed_reason_code":"nn_state_register_rejected","operation":"register_parameter","parameter_keys":[],"persistent_buffer_keys":[],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":"","state_key_kind":"parameter","strict_flag":true,"training_flag_transition":[],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/strict:register_buffer_tracks_persistence_flag","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"strict","seed":17431904315013854904,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=strict","outcome":"pass","reason_code":"nn_state_state_export_ok","actual_state_keys":["encoder.weight","running_mean"],"assign_flag":false,"contract_ids":["MODULE-REGISTER-001","MODULE-STATE-002"],"contract_ok":true,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:state_export","ft_p2c_008/nn_state/hardened:state_export"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":["encoder.weight","running_mean"],"hook_trace":[],"incompatible_shapes":[],"missing_keys":[],"module_path":"root","non_persistent_buffer_keys":["scratchpad"],"observed_reason_code":"nn_state_state_export_ok","operation":"state_export","parameter_keys":["encoder.weight"],"persistent_buffer_keys":["running_mean"],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":null,"state_key_kind":"buffer","strict_flag":true,"training_flag_transition":[],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/strict:state_dict_nested_prefixes_are_stable","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"strict","seed":7852284913050687554,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=strict","outcome":"pass","reason_code":"nn_state_state_export_ok","actual_state_keys":["decoder.block1.weight","encoder.block0.running_mean","encoder.block0.weight"],"assign_flag":false,"contract_ids":["MODULE-STATE-002","MODULE-TRAVERSAL-003"],"contract_ok":true,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:module_traversal","ft_p2c_008/nn_state/hardened:module_traversal"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":["decoder.block1.weight","encoder.block0.running_mean","encoder.block0.weight"],"hook_trace":[],"incompatible_shapes":[],"missing_keys":[],"module_path":"root.encoder","non_persistent_buffer_keys":["encoder.block0.ephemeral"],"observed_reason_code":"nn_state_state_export_ok","operation":"state_export","parameter_keys":["decoder.block1.weight","encoder.block0.weight"],"persistent_buffer_keys":["encoder.block0.running_mean"],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":null,"state_key_kind":"state_dict","strict_flag":true,"training_flag_transition":[],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/strict:mode_propagation_train_eval_alias","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"strict","seed":381229097882778972,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=strict","outcome":"pass","reason_code":"nn_state_mode_transition_ok","actual_state_keys":[],"assign_flag":false,"contract_ids":["MODULE-MODE-004"],"contract_ok":true,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:mode_propagation","ft_p2c_008/nn_state/hardened:mode_propagation"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":[],"hook_trace":[],"incompatible_shapes":[],"missing_keys":[],"module_path":"root.encoder","non_persistent_buffer_keys":[],"observed_reason_code":"nn_state_mode_transition_ok","operation":"mode_transition","parameter_keys":[],"persistent_buffer_keys":[],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":null,"state_key_kind":"training_mode","strict_flag":true,"training_flag_transition":[true,true,false,true,false],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/strict:load_state_missing_unexpected_mode_split","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"strict","seed":37240648936643437,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=strict","outcome":"pass","reason_code":"nn_state_load_missing_or_unexpected_rejected","actual_state_keys":[],"assign_flag":false,"contract_ids":["MODULE-LOAD-STRICT-005"],"contract_ok":false,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:load_mismatch","ft_p2c_008/nn_state/hardened:load_mismatch"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":[],"hook_trace":[],"incompatible_shapes":[],"missing_keys":["encoder.weight"],"module_path":"root","non_persistent_buffer_keys":[],"observed_reason_code":"nn_state_load_missing_or_unexpected_rejected","operation":"load_state","parameter_keys":[],"persistent_buffer_keys":[],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":null,"state_key_kind":"state_dict","strict_flag":true,"training_flag_transition":[],"unexpected_keys":["decoder.bias"]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/strict:load_state_incompatible_shape_rejected","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"strict","seed":3733052369910529892,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=strict","outcome":"pass","reason_code":"nn_state_load_incompatible_shapes_rejected","actual_state_keys":[],"assign_flag":false,"contract_ids":["MODULE-LOAD-STRICT-005","MODULE-ADVERSARIAL-009"],"contract_ok":false,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:adversarial_state_payload","ft_p2c_008/nn_state/hardened:adversarial_state_payload"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":[],"hook_trace":[],"incompatible_shapes":["head.weight:[2,4]!=[4,4]"],"missing_keys":[],"module_path":"root","non_persistent_buffer_keys":[],"observed_reason_code":"nn_state_load_incompatible_shapes_rejected","operation":"load_state","parameter_keys":[],"persistent_buffer_keys":[],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":null,"state_key_kind":"state_dict","strict_flag":true,"training_flag_transition":[],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/strict:prefix_consumption_maps_ddp_state_dict_keys","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"strict","seed":13875613561773434278,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=strict","outcome":"pass","reason_code":"nn_state_prefix_normalization_ok","actual_state_keys":["encoder.bias","encoder.weight"],"assign_flag":false,"contract_ids":["MODULE-PREFIX-006"],"contract_ok":true,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:prefix_normalization","ft_p2c_008/nn_state/hardened:prefix_normalization"],"expectation_ok":true,"expected_canonical_keys":["encoder.bias","encoder.weight"],"expected_state_keys":[],"hook_trace":[],"incompatible_shapes":[],"missing_keys":[],"module_path":"root","non_persistent_buffer_keys":[],"observed_reason_code":"nn_state_prefix_normalization_ok","operation":"prefix_normalization","parameter_keys":[],"persistent_buffer_keys":[],"prefix_keys":["module.encoder.weight","module.encoder.bias"],"prefix_normalization_applied":true,"state_key":null,"state_key_kind":"state_dict","strict_flag":true,"training_flag_transition":[],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/strict:state_dict_hooks_fire_in_order","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"strict","seed":16978299035371592175,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=strict","outcome":"pass","reason_code":"nn_state_hook_trace_ok","actual_state_keys":[],"assign_flag":false,"contract_ids":["MODULE-HOOKS-007"],"contract_ok":true,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:hook_paths","ft_p2c_008/nn_state/hardened:hook_paths"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":[],"hook_trace":["state_dict_pre_hook","state_dict_post_hook","load_pre_hook","load_post_hook"],"incompatible_shapes":[],"missing_keys":[],"module_path":"root","non_persistent_buffer_keys":[],"observed_reason_code":"nn_state_hook_trace_ok","operation":"hook_trace","parameter_keys":[],"persistent_buffer_keys":[],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":null,"state_key_kind":"hook_trace","strict_flag":true,"training_flag_transition":[],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/strict:module_to_preserves_keyset_and_shapes","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"strict","seed":17423047019656801511,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=strict","outcome":"pass","reason_code":"nn_state_state_export_ok","actual_state_keys":["encoder.bias","encoder.running_mean","encoder.weight"],"assign_flag":false,"contract_ids":["MODULE-TRANSFER-008"],"contract_ok":true,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:transfer_paths","ft_p2c_008/nn_state/hardened:transfer_paths"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":["encoder.bias","encoder.running_mean","encoder.weight"],"hook_trace":[],"incompatible_shapes":[],"missing_keys":[],"module_path":"root.encoder","non_persistent_buffer_keys":["encoder.scratch"],"observed_reason_code":"nn_state_state_export_ok","operation":"state_export","parameter_keys":["encoder.bias","encoder.weight"],"persistent_buffer_keys":["encoder.running_mean"],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":null,"state_key_kind":"transfer","strict_flag":true,"training_flag_transition":[],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/strict:load_state_assign_rejects_incompatible_tensor_shape","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"strict","seed":2179544862486913088,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=strict","outcome":"pass","reason_code":"nn_state_load_incompatible_shapes_rejected","actual_state_keys":[],"assign_flag":true,"contract_ids":["MODULE-ADVERSARIAL-009"],"contract_ok":false,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:adversarial_state_payload","ft_p2c_008/nn_state/hardened:adversarial_state_payload"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":[],"hook_trace":[],"incompatible_shapes":["decoder.weight:[8,8]!=[8,4]"],"missing_keys":[],"module_path":"root","non_persistent_buffer_keys":[],"observed_reason_code":"nn_state_load_incompatible_shapes_rejected","operation":"load_state","parameter_keys":[],"persistent_buffer_keys":[],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":null,"state_key_kind":"assign","strict_flag":true,"training_flag_transition":[],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/hardened:register_parameter_rejects_invalid_name","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"hardened","seed":13293221716727813487,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=hardened","outcome":"pass","reason_code":"nn_state_register_rejected","actual_state_keys":[],"assign_flag":false,"contract_ids":["MODULE-REGISTER-001"],"contract_ok":false,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:register_paths","ft_p2c_008/nn_state/hardened:register_paths"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":[],"hook_trace":[],"incompatible_shapes":[],"missing_keys":[],"module_path":"root","non_persistent_buffer_keys":[],"observed_reason_code":"nn_state_register_rejected","operation":"register_parameter","parameter_keys":[],"persistent_buffer_keys":[],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":"","state_key_kind":"parameter","strict_flag":false,"training_flag_transition":[],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/hardened:register_buffer_tracks_persistence_flag","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"hardened","seed":14883337254597632294,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=hardened","outcome":"pass","reason_code":"nn_state_state_export_ok","actual_state_keys":["encoder.weight","running_mean"],"assign_flag":false,"contract_ids":["MODULE-REGISTER-001","MODULE-STATE-002"],"contract_ok":true,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:state_export","ft_p2c_008/nn_state/hardened:state_export"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":["encoder.weight","running_mean"],"hook_trace":[],"incompatible_shapes":[],"missing_keys":[],"module_path":"root","non_persistent_buffer_keys":["scratchpad"],"observed_reason_code":"nn_state_state_export_ok","operation":"state_export","parameter_keys":["encoder.weight"],"persistent_buffer_keys":["running_mean"],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":null,"state_key_kind":"buffer","strict_flag":false,"training_flag_transition":[],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/hardened:state_dict_nested_prefixes_are_stable","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"hardened","seed":933276310607701581,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=hardened","outcome":"pass","reason_code":"nn_state_state_export_ok","actual_state_keys":["decoder.block1.weight","encoder.block0.running_mean","encoder.block0.weight"],"assign_flag":false,"contract_ids":["MODULE-STATE-002","MODULE-TRAVERSAL-003"],"contract_ok":true,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:module_traversal","ft_p2c_008/nn_state/hardened:module_traversal"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":["decoder.block1.weight","encoder.block0.running_mean","encoder.block0.weight"],"hook_trace":[],"incompatible_shapes":[],"missing_keys":[],"module_path":"root.encoder","non_persistent_buffer_keys":["encoder.block0.ephemeral"],"observed_reason_code":"nn_state_state_export_ok","operation":"state_export","parameter_keys":["decoder.block1.weight","encoder.block0.weight"],"persistent_buffer_keys":["encoder.block0.running_mean"],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":null,"state_key_kind":"state_dict","strict_flag":false,"training_flag_transition":[],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/hardened:mode_propagation_train_eval_alias","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"hardened","seed":5466591154941328597,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=hardened","outcome":"pass","reason_code":"nn_state_mode_transition_ok","actual_state_keys":[],"assign_flag":false,"contract_ids":["MODULE-MODE-004"],"contract_ok":true,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:mode_propagation","ft_p2c_008/nn_state/hardened:mode_propagation"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":[],"hook_trace":[],"incompatible_shapes":[],"missing_keys":[],"module_path":"root.encoder","non_persistent_buffer_keys":[],"observed_reason_code":"nn_state_mode_transition_ok","operation":"mode_transition","parameter_keys":[],"persistent_buffer_keys":[],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":null,"state_key_kind":"training_mode","strict_flag":false,"training_flag_transition":[true,true,false,true,false],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/hardened:load_state_missing_unexpected_mode_split","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"hardened","seed":7361232525011555190,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=hardened","outcome":"pass","reason_code":"nn_state_load_hardened_allowlisted","actual_state_keys":[],"assign_flag":false,"contract_ids":["MODULE-LOAD-STRICT-005"],"contract_ok":true,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:load_mismatch","ft_p2c_008/nn_state/hardened:load_mismatch"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":[],"hook_trace":[],"incompatible_shapes":[],"missing_keys":["encoder.weight"],"module_path":"root","non_persistent_buffer_keys":[],"observed_reason_code":"nn_state_load_hardened_allowlisted","operation":"load_state","parameter_keys":[],"persistent_buffer_keys":[],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":null,"state_key_kind":"state_dict","strict_flag":false,"training_flag_transition":[],"unexpected_keys":["decoder.bias"]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/hardened:load_state_incompatible_shape_rejected","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"hardened","seed":17063638471612821105,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=hardened","outcome":"pass","reason_code":"nn_state_load_incompatible_shapes_rejected","actual_state_keys":[],"assign_flag":false,"contract_ids":["MODULE-LOAD-STRICT-005","MODULE-ADVERSARIAL-009"],"contract_ok":false,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:adversarial_state_payload","ft_p2c_008/nn_state/hardened:adversarial_state_payload"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":[],"hook_trace":[],"incompatible_shapes":["head.weight:[2,4]!=[4,4]"],"missing_keys":[],"module_path":"root","non_persistent_buffer_keys":[],"observed_reason_code":"nn_state_load_incompatible_shapes_rejected","operation":"load_state","parameter_keys":[],"persistent_buffer_keys":[],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":null,"state_key_kind":"state_dict","strict_flag":false,"training_flag_transition":[],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/hardened:prefix_consumption_maps_ddp_state_dict_keys","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"hardened","seed":5047304702007858444,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=hardened","outcome":"pass","reason_code":"nn_state_prefix_normalization_ok","actual_state_keys":["encoder.bias","encoder.weight"],"assign_flag":false,"contract_ids":["MODULE-PREFIX-006"],"contract_ok":true,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:prefix_normalization","ft_p2c_008/nn_state/hardened:prefix_normalization"],"expectation_ok":true,"expected_canonical_keys":["encoder.bias","encoder.weight"],"expected_state_keys":[],"hook_trace":[],"incompatible_shapes":[],"missing_keys":[],"module_path":"root","non_persistent_buffer_keys":[],"observed_reason_code":"nn_state_prefix_normalization_ok","operation":"prefix_normalization","parameter_keys":[],"persistent_buffer_keys":[],"prefix_keys":["module.encoder.weight","module.encoder.bias"],"prefix_normalization_applied":true,"state_key":null,"state_key_kind":"state_dict","strict_flag":false,"training_flag_transition":[],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/hardened:state_dict_hooks_fire_in_order","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"hardened","seed":11863962429143804223,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=hardened","outcome":"pass","reason_code":"nn_state_hook_trace_ok","actual_state_keys":[],"assign_flag":false,"contract_ids":["MODULE-HOOKS-007"],"contract_ok":true,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:hook_paths","ft_p2c_008/nn_state/hardened:hook_paths"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":[],"hook_trace":["state_dict_pre_hook","state_dict_post_hook","load_pre_hook","load_post_hook"],"incompatible_shapes":[],"missing_keys":[],"module_path":"root","non_persistent_buffer_keys":[],"observed_reason_code":"nn_state_hook_trace_ok","operation":"hook_trace","parameter_keys":[],"persistent_buffer_keys":[],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":null,"state_key_kind":"hook_trace","strict_flag":false,"training_flag_transition":[],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/hardened:module_to_preserves_keyset_and_shapes","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"hardened","seed":1204208843193412060,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=hardened","outcome":"pass","reason_code":"nn_state_state_export_ok","actual_state_keys":["encoder.bias","encoder.running_mean","encoder.weight"],"assign_flag":false,"contract_ids":["MODULE-TRANSFER-008"],"contract_ok":true,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:transfer_paths","ft_p2c_008/nn_state/hardened:transfer_paths"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":["encoder.bias","encoder.running_mean","encoder.weight"],"hook_trace":[],"incompatible_shapes":[],"missing_keys":[],"module_path":"root.encoder","non_persistent_buffer_keys":["encoder.scratch"],"observed_reason_code":"nn_state_state_export_ok","operation":"state_export","parameter_keys":["encoder.bias","encoder.weight"],"persistent_buffer_keys":["encoder.running_mean"],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":null,"state_key_kind":"transfer","strict_flag":false,"training_flag_transition":[],"unexpected_keys":[]}
{"schema_version":"ft-conformance-log-v1","ts_unix_ms":1771259858556,"suite_id":"nn_state","scenario_id":"nn_state/hardened:load_state_assign_rejects_incompatible_tensor_shape","fixture_id":"nn_state_cases.json","packet_id":"FT-P2C-008","mode":"hardened","seed":16006249320005824350,"env_fingerprint":"det64:1a5adcb7cc17c7fa","artifact_refs":["crates/ft-conformance/fixtures/nn_state_cases.json","artifacts/phase2c/FT-P2C-008/contract_table.md","artifacts/phase2c/FT-P2C-008/threat_model.md","artifacts/phase2c/FT-P2C-008/unit_property_quality_report_v1.json"],"replay_command":"cargo test -p ft-conformance strict_nn_state_conformance_is_green -- --nocapture # mode=hardened","outcome":"pass","reason_code":"nn_state_load_incompatible_shapes_rejected","actual_state_keys":[],"assign_flag":true,"contract_ids":["MODULE-ADVERSARIAL-009"],"contract_ok":false,"detail_ok":true,"downstream_e2e_scenarios":["ft_p2c_008/nn_state/strict:adversarial_state_payload","ft_p2c_008/nn_state/hardened:adversarial_state_payload"],"expectation_ok":true,"expected_canonical_keys":[],"expected_state_keys":[],"hook_trace":[],"incompatible_shapes":["decoder.weight:[8,8]!=[8,4]"],"missing_keys":[],"module_path":"root","non_persistent_buffer_keys":[],"observed_reason_code":"nn_state_load_incompatible_shapes_rejected","operation":"load_state","parameter_keys":[],"persistent_buffer_keys":[],"prefix_keys":[],"prefix_normalization_applied":false,"state_key":null,"state_key_kind":"assign","strict_flag":false,"training_flag_transition":[],"unexpected_keys":[]}
